{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario</title>

    <!-- Incluir CSS de Bootstrap desde CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Incluir CSS personalizado -->
    <link href="{% static 'css/Formulario_styles.css' %}" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <!-- Logotipo en la esquina superior izquierda -->
                <img src="{% static 'images/LOGOS-INSTITUCIONALES-ITQ-07-1024x1024.png' %}" alt="Logotipo" class="logo">
            </div>
        </div>
        <form id="formulario" class="mt-3">
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre:</label>
                <input type="text" class="form-control" id="nombre" name="nombre" required>
            </div>

            <div class="mb-3">
                <label for="matricula" class="form-label">Matrícula:</label>
                <input type="text" class="form-control" id="matricula" name="matricula" required>
            </div>

            <div class="mb-3">
                <label for="carrera" class="form-label">Carrera:</label>
                <select class="form-select" id="carrera" name="carrera" onchange="updateOptions(), toggleOtroCampo(), toggleMaterialBusqueda(), toggleAreaCampo()">
                    <option value="">Selecciona una carrera</option>
                    <option value="Otra">Otra</option>
                    {% for carrera in carreras %}
                        <option value="{{ carrera.id }}">{{ carrera.nombre }}</option>
                    {% endfor %}
                </select>
            </div>

            <div id="otro-campo" class="mb-3 hidden">
                <label for="otra-carrera" class="form-label">Especifica la carrera:</label>
                <input type="text" class="form-control" id="otra-carrera" name="otra-carrera">
            </div>

            <!-- Campo para seleccionar el profesor -->
            <div id="profesor-campo" class="mb-3 hidden">
                <label for="profesor" class="form-label">Profesor:</label>
                <select class="form-select" id="profesor" name="profesor">
                    <option value="">Selecciona un profesor</option>
                </select>
            </div>

            <!-- Campo de búsqueda de materiales -->
            <div id="material-busqueda-campo" class="mb-3 hidden">
                <label for="material-busqueda" class="form-label">Material solicitado:</label>
                <input type="text" class="form-control" id="material-busqueda" name="material-busqueda" placeholder="Buscar material...">
                <div id="resultados-material"></div>
            </div>

            <!-- Campo para seleccionar el área -->
            <div id="area-campo" class="mb-3 hidden">
                <label for="area" class="form-label">Área solicitada:</label>
                <select class="form-select" id="area" name="area">
                    <option value="">Selecciona un área</option>
                    {% for area in areas %}
                        <option value="{{ area.id }}">{{ area.nombre }}</option>
                    {% endfor %}
                </select>
            </div>

            <button type="submit" class="btn btn-primary">Enviar</button>
        </form>
    </div>

    <!-- Incluir JavaScript de Bootstrap desde CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Incluir archivo JavaScript personalizado -->
    <script src="{% static 'js/script_formulario.js' %}"></script>
</body>
</html>
